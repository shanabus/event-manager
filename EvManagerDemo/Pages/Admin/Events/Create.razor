@page "/admin/events/create"
@using EvManagerDemo.Data;
@using EvManagerDemo.Services;
@inject ILogger<Create> Logger
@inject EventsService EventService

<PageTitle>Create</PageTitle>

<h3>Create</h3>

<EditForm Model="@Model" OnValidSubmit="@Submit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <InputText @bind-Value="Model!.Name" />
    <InputText @bind-Value="Model!.Location" />
    <button type="submit">Submit</button>
</EditForm>



@code {
    public Event? Model { get; set; }

    protected override void OnInitialized() => Model ??= new();

    private void Submit()
    {
        var e = EventService.CreateEventAsync(Model);

        Console.WriteLine($"Saved event Id {e.Id}");
    }
}
